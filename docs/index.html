<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nunchucks Docs</title>
  <link rel="stylesheet" href="./assets/styles.css" />
</head>
<body>
  <main class="wrapper">
    <nav>
      <a href="./index.html">Docs Home</a>
      <a href="./golang.html">Go Details</a>
    </nav>

    <section class="hero">
      <h1>Nunchucks Documentation</h1>
      <p>Multi-language templating with a Go core, CLI, and WASM bridge.</p>
      <small>GitHub Pages serves this <code>docs/</code> folder.</small>
    </section>

    <section class="card" style="margin-top:1rem;">
      <h2>Pick A Language</h2>
      <p>Use the selector to view how to render templates from each language/runtime.</p>

      <div class="lang-tabs" role="tablist" aria-label="Language selector">
        <button class="lang-tab is-active" data-lang="go" role="tab" aria-selected="true">Go</button>
        <button class="lang-tab" data-lang="ts" role="tab" aria-selected="false">TypeScript</button>
        <button class="lang-tab" data-lang="js" role="tab" aria-selected="false">JavaScript</button>
        <button class="lang-tab" data-lang="py" role="tab" aria-selected="false">Python</button>
        <button class="lang-tab" data-lang="dart" role="tab" aria-selected="false">Dart</button>
      </div>

      <div class="lang-panel is-active" data-lang="go" role="tabpanel">
<pre><code class="language-go">env := nunchucks.Configure(nunchucks.ConfigOptions{Path: "views"})
out, err := env.Render("index.njk", map[string]any{
  "user": map[string]any{"name": "sam"},
})
if err != nil {
  panic(err)
}
fmt.Println(out)</code></pre>
      </div>

      <div class="lang-panel" data-lang="ts" role="tabpanel" hidden>
<pre><code class="language-ts">import { configure } from "@samuelbines/nunchucks";

const app = express();
const env = configure({
  path: "views",
  loader: FileSystemLoader,
  dev: true,
  watch: true,
  devRefresh: true,
});
env.express(app);</code></pre>
      </div>

      <div class="lang-panel" data-lang="js" role="tabpanel" hidden>
<pre><code class="language-js">import { loadNunchucksWasm } from "./go/wasm/loader.js";

const nc = await loadNunchucksWasm({
  wasmURL: "./nunchucks.wasm",
  goURL: "./wasm_exec.js",
});

const out = nc.renderFromMap({
  template: "index.njk",
  files: {
    "index.njk": "Hello {{ user.name }}",
  },
  context: { user: { name: "sam" } },
});</code></pre>
      </div>

      <div class="lang-panel" data-lang="py" role="tabpanel" hidden>
<pre><code class="language-python"># Python wrapper pattern (current): call nunchucks CLI
import json
import subprocess

cmd = [
  "nunchucks", "render",
  "-views", "./views",
  "-template", "index.njk",
  "-data", json.dumps({"user": {"name": "sam"}}),
]
out = subprocess.check_output(cmd, text=True)
print(out)</code></pre>
      </div>

      <div class="lang-panel" data-lang="dart" role="tabpanel" hidden>
<pre><code class="language-dart">// Dart wrapper pattern (current): call nunchucks CLI
import 'dart:convert';
import 'dart:io';

final result = await Process.run('nunchucks', [
  'render',
  '-views', './views',
  '-template', 'index.njk',
  '-data', jsonEncode({'user': {'name': 'sam'}}),
]);
print(result.stdout);</code></pre>
      </div>

      <p><small>Go and TS are native engines. JS/Python/Dart can use the Go CLI/WASM bridge today.</small></p>
    </section>

    <section class="card" style="margin-top:1rem;">
      <h2>Tags</h2>
      <p>Current Go runtime support:</p>
      <ul>
        <li><code>if</code>, <code>for</code>, <code>set</code></li>
        <li><code>extends</code>, <code>block</code>, <code>include</code></li>
        <li><code>macro</code>, <code>import ... as</code>, <code>call</code></li>
        <li><code>raw</code>, <code>verbatim</code>, <code>filter ... endfilter</code></li>
      </ul>
<pre><code class="language-njk">{% import "macros.njk" as ui %}
{% set name = "sam" %}
{% if name %}{{ ui.badge(name) }}{% endif %}</code></pre>
    </section>

    <section class="card" style="margin-top:1rem;">
      <h2>Filters</h2>
      <p>Current Go filters:</p>
      <ul>
        <li><code>lower</code></li>
        <li><code>upper</code></li>
      </ul>
<pre><code class="language-njk">{{ "NUNCHUCKS" | lower }}
{{ "nunchucks" | upper }}
{% filter upper %}hello {{ user.name }}{% endfilter %}</code></pre>
      <p><small>Roadmap: full Nunjucks-style built-ins (abs, default, join, length, replace, sort, truncate, urlencode, urlize, wordcount, and others).</small></p>
    </section>

    <section class="card" style="margin-top:1rem;">
      <h2>Deploy + Verify</h2>
      <ul>
        <li>Pages deploy source: <code>docs/</code></li>
        <li>Workflow: <code>.github/workflows/pages.yaml</code></li>
        <li>CI gate before deploy: Go tests + JS tests</li>
        <li>Site URL: <code>https://samueldbines.github.io/nunchucks/</code></li>
      </ul>
    </section>
  </main>

  <script src="./assets/docs.js"></script>
</body>
</html>
