<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nunchucks Editor Demo</title>
  <link rel="stylesheet" href="./assets/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/github-dark.min.css" />
</head>
<body>
  <main class="wrapper wrapper-wide">
    <nav class="top-nav">
      <a class="brand-mark" href="./index.html">
        <img src="./assets/nunchucks-logo.svg" alt="Nunchucks logo" />
        <span>Nunchucks</span>
      </a>
      <a href="./index.html">Docs Home</a>
      <a href="./templating.html">Templating Docs</a>
      <a href="./playground.html">Editor Demo</a>
    </nav>

    <section class="hero">
      <h1>Mini Editor + Output</h1>
      <p>VS Code-inspired mini editor with file tabs, editable templates, and live output preview.</p>
    </section>

    <div class="pane-switch" role="tablist" aria-label="Mobile pane switcher">
      <button class="pane-btn is-active" data-pane-tab="files" role="tab" aria-selected="true">Files</button>
      <button class="pane-btn" data-pane-tab="output" role="tab" aria-selected="false">Output</button>
    </div>

    <div class="playground-layout" style="margin-top:1rem;" data-playground>
      <section class="editor-pane card is-active" data-pane="files">
        <div class="pg-tabs-row">
          <div class="pg-tabs" role="tablist" aria-label="Editor files" data-pg-tabs></div>
          <button class="pg-add-inline" type="button" data-add-file aria-label="Add file">+</button>
        </div>

        <div class="pg-editor-wrap">
          <div class="pg-editor-surface" data-pg-editor></div>
        </div>
      </section>

      <section class="output-pane card" data-pane="output">
        <div class="pg-output-head">
          <h2>Playground</h2>
          <button class="pg-export" type="button" data-export-output>
            <svg width="14" height="14" viewBox="0 0 24 24" aria-hidden="true">
              <path fill="currentColor" d="M12 3l4 4h-3v6h-2V7H8l4-4zm-7 14h14v2H5v-2z"/>
            </svg>
            Export
          </button>
        </div>
        <p class="project-pane-sub">Live preview. Uses local stateless API when available, then client fallback.</p>
        <div class="pg-output-tabs" role="tablist" aria-label="Output files" data-pg-output-tabs></div>
        <div class="pg-view-tabs" role="tablist" aria-label="Output view mode">
          <button class="pg-view-tab is-active" data-pg-view-tab="preview" role="tab" aria-selected="true">Preview</button>
          <button class="pg-view-tab" data-pg-view-tab="code" role="tab" aria-selected="false">Code</button>
        </div>
        <div class="pg-view-panel is-active" data-pg-view="preview">
          <iframe title="Playground preview" class="pg-preview-frame" data-pg-preview></iframe>
        </div>
        <div class="pg-view-panel" data-pg-view="code" hidden>
<pre><code class="language-html" data-pg-output></code></pre>
        </div>
      </section>
    </div>

    <div class="pg-modal-backdrop" data-pg-modal-backdrop hidden></div>
    <div class="pg-modal" data-pg-modal hidden role="dialog" aria-modal="true" aria-label="Add file">
      <div class="pg-modal-head">
        <h3>Add File</h3>
        <button type="button" class="pg-modal-close" data-pg-modal-close aria-label="Close">×</button>
      </div>
      <div class="pg-modal-body">
        <label class="pg-field">
          <span>File Type</span>
          <select data-pg-file-type>
            <option value="page">Page</option>
            <option value="layout">Layout</option>
            <option value="partial">Partial</option>
            <option value="macro">Macro</option>
            <option value="other">Other</option>
          </select>
        </label>
        <label class="pg-field">
          <span>File Name</span>
          <input type="text" data-pg-file-name placeholder="home" />
        </label>
      </div>
      <div class="pg-modal-actions">
        <button type="button" class="pg-btn-secondary" data-pg-modal-cancel>Cancel</button>
        <button type="button" class="pg-btn-primary" data-pg-modal-create>Create</button>
      </div>
    </div>
    <footer style="margin-top:1.5rem; text-align:center; color: var(--muted); font-size:0.92rem;">
      <a href="https://samueldbines.github.io/" target="_blank" rel="noopener noreferrer">© 2026 Samuel Bines</a>
    </footer>
  </main>

  <script id="pg-initial-files" type="application/json">{
  "app.njk": "{% extends \"layout.njk\" %}\n{% import \"macros/ui.njk\" as ui %}\n{% block title %}Team{% endblock %}\n{% block body %}\n  {% for user in users %}\n    {% include \"partials/user-card.njk\" with context %}\n  {% endfor %}\n  {% call ui.panel(\"success\") %}\n    {{ users | length }} users loaded\n  {% endcall %}\n{% endblock %}",
  "layout.njk": "<!doctype html>\n<html>\n  <head><title>{% block title %}Demo{% endblock %}</title></head>\n  <body>\n    <main>{% block body %}{% endblock %}</main>\n  </body>\n</html>",
  "partials/user-card.njk": "<article class=\"user-card\">\n  <h3>{{ user.name | title }}</h3>\n  <p>{{ user.email | lower }}</p>\n</article>",
  "macros/ui.njk": "{% macro panel(kind=\"info\") %}\n<section class=\"panel panel-{{ kind }}\">\n  {{ caller() }}\n</section>\n{% endmacro %}"
}</script>

  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.6/ace.js"></script>
  <script defer src="./assets/docs.js"></script>
</body>
</html>
